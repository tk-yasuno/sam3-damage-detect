# SAM3 Damage Detector - è…é£Ÿé ˜åŸŸæ¤œå‡ºæ©Ÿèƒ½

## ğŸ¯ æ–°æ©Ÿèƒ½

**è¤‡æ•°é ˜åŸŸã®è‡ªå‹•æ¤œå‡º**: ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆå…¨ä½“ã¨è…é£Ÿé ˜åŸŸã‚’åŒæ™‚ã«æ¤œå‡º

## ğŸ“Š æ¤œå‡ºçµæœï¼ˆå®Ÿæ¸¬å€¤ï¼‰

### ãƒ†ã‚¹ãƒˆç”»åƒ1: kensg-rebarexposureRb_001.png

| é ˜åŸŸã‚¿ã‚¤ãƒ— | ã‚¹ã‚³ã‚¢ | é¢ç© (px) | ç”»åƒæ¯”ç‡ |
|-----------|--------|-----------|---------|
| **Concrete** (ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆå…¨ä½“) | 0.9754 | 315,968 | 65.8% |
| **Damage** (ä¸­è¦æ¨¡æå‚·) | 0.9592 | 263,746 | 54.9% |
| **Corrosion** (è…é£Ÿé ˜åŸŸ) | 0.6149 | 38,414 | 8.0% |

### ãƒ†ã‚¹ãƒˆç”»åƒ2: kensg-rebarexposureRb_010.png

| é ˜åŸŸã‚¿ã‚¤ãƒ— | ã‚¹ã‚³ã‚¢ | é¢ç© (px) | ç”»åƒæ¯”ç‡ |
|-----------|--------|-----------|---------|
| **Concrete** (ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆå…¨ä½“) | 0.9456 | 185,139 | 60.3% |
| **Damage** (ä¸­è¦æ¨¡æå‚·) | 0.9059 | 101,218 | 32.9% |
| **Corrosion** (è…é£Ÿé ˜åŸŸ) | 0.8773 | 53,684 | 17.5% |

## ğŸ”§ å®Ÿè£…å†…å®¹

### 1. `src/image_processor.py`

- **`auto_detect()` ãƒ¡ã‚½ãƒƒãƒ‰æ‹¡å¼µ**: `return_all=True` ã§å…¨ãƒã‚¹ã‚¯ã‚’è¿”ã™ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¿½åŠ 
- **`detect_corrosion_areas()` æ–°ãƒ¡ã‚½ãƒƒãƒ‰**: è¤‡æ•°é ˜åŸŸã‚’è‡ªå‹•åˆ†é¡
  - ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°ç‚¹æ•°: 16ç‚¹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
  - åˆ†é¡åŸºæº–:
    - `concrete`: é¢ç©æ¯” > 60%
    - `damage`: é¢ç©æ¯” 20-60%
    - `corrosion`: é¢ç©æ¯” 5-20%
    - `small_defect`: é¢ç©æ¯” < 5%

### 2. `src/visualizer.py`

- **`show_multiple_masks()` ãƒ¡ã‚½ãƒƒãƒ‰æ‹¡å¼µ**: ãƒ©ãƒ™ãƒ«è¡¨ç¤ºæ©Ÿèƒ½è¿½åŠ 
- è‰²è¨­å®šå¤‰æ›´:
  - èµ¤: ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆå…¨ä½“
  - ã‚ªãƒ¬ãƒ³ã‚¸: è…é£Ÿé ˜åŸŸ1
  - é»„è‰²: è…é£Ÿé ˜åŸŸ2

### 3. `test_corrosion.py` (æ–°è¦)

è…é£Ÿé ˜åŸŸæ¤œå‡ºå°‚ç”¨ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ

## ğŸ’» ä½¿ç”¨æ–¹æ³•

### å˜ä¸€ç”»åƒã®è…é£Ÿé ˜åŸŸæ¤œå‡º

```powershell
python test_corrosion.py --image "data/1_Test_images-kensg/kensg-rebarexposureRb_001.png"
```

### å‡ºåŠ›çµæœ

```
results/corrosion_test/
â”œâ”€â”€ kensg-rebarexposureRb_001_concrete_1_overlay.png    # ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆå…¨ä½“
â”œâ”€â”€ kensg-rebarexposureRb_001_damage_2_overlay.png      # ä¸­è¦æ¨¡æå‚·
â””â”€â”€ kensg-rebarexposureRb_001_corrosion_3_overlay.png   # è…é£Ÿé ˜åŸŸ
```

## ğŸ¨ å¯è¦–åŒ–

- å„é ˜åŸŸãŒç•°ãªã‚‹è‰²ã§ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¡¨ç¤º
- ã‚¹ã‚³ã‚¢ã¨é¢ç©æ¯”ç‡ã‚’è‡ªå‹•è¨ˆç®—
- è¤‡æ•°ã®æ¤œå‡ºçµæœã‚’ä¸€åº¦ã«ç¢ºèªå¯èƒ½

## ğŸ“ˆ ç²¾åº¦

- **ã‚³ãƒ³ã‚¯ãƒªãƒ¼ãƒˆå…¨ä½“**: é«˜ç²¾åº¦ï¼ˆ0.94-0.97ï¼‰
- **ä¸­è¦æ¨¡æå‚·**: é«˜ç²¾åº¦ï¼ˆ0.90-0.95ï¼‰
- **è…é£Ÿé ˜åŸŸ**: ä¸­ç¨‹åº¦ï¼ˆ0.61-0.87ï¼‰

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **è‰²ãƒ™ãƒ¼ã‚¹åˆ†é¡**: è…é£Ÿé ˜åŸŸã®è‰²æƒ…å ±ï¼ˆèŒ¶è‰²ãƒ»èµ¤èŒ¶è‰²ï¼‰ã‚’åˆ©ç”¨
2. **å½¢çŠ¶åˆ†æ**: è…é£Ÿãƒ‘ã‚¿ãƒ¼ãƒ³ã®ç‰¹å¾´æŠ½å‡º
3. **é‡ç—‡åº¦è©•ä¾¡**: è…é£Ÿã®é€²è¡Œåº¦ã‚’è‡ªå‹•åˆ¤å®š
4. **çµ±è¨ˆãƒ¬ãƒãƒ¼ãƒˆ**: è¤‡æ•°ç”»åƒã®è…é£Ÿç‡ã‚’é›†è¨ˆ

---

**è¤‡æ•°é ˜åŸŸã®è‡ªå‹•æ¤œå‡ºã«ã‚ˆã‚Šã€ã‚ˆã‚Šè©³ç´°ãªæ§‹é€ ç‰©ç‚¹æ¤œãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸï¼** ğŸ—ï¸
